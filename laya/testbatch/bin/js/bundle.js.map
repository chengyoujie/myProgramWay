{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/TestRender.ts","../../src/Test.ts","../../src/GameConfig.ts","../../src/RenderSpriteExtends.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui {\r\n    export class TestUI extends View {\r\n\t\tpublic list:Laya.List;\n\t\tpublic checkOpenBatch:Laya.CheckBox;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":640,\"runtime\":\"Test.ts\",\"height\":1136},\"compId\":2,\"child\":[{\"type\":\"Image\",\"props\":{\"y\":102,\"x\":69,\"width\":524,\"skin\":\"comp/img_bg.png\",\"sizeGrid\":\"60,22,16,15\",\"height\":663},\"compId\":5},{\"type\":\"List\",\"props\":{\"y\":157,\"x\":74,\"width\":516,\"var\":\"list\",\"repeatX\":1,\"height\":593},\"compId\":4},{\"type\":\"CheckBox\",\"props\":{\"y\":23,\"x\":292,\"var\":\"checkOpenBatch\",\"skin\":\"comp/checkbox.png\",\"labelSize\":26,\"labelPadding\":\"20\",\"labelColors\":\"#FF0000,#FFFF00,#00FF00\",\"label\":\"是否开启合批\"},\"compId\":8}],\"loadList\":[\"comp/img_bg.png\",\"comp/checkbox.png\"],\"loadList3D\":[]};\r\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.createView(TestUI.uiView);\r\n        }\r\n    }\r\n    REG(\"ui.TestUI\",TestUI);\r\n    export class TestRenderUI extends View {\r\n\t\tpublic btn:Laya.Button;\n\t\tpublic txtName:Laya.Text;\n\t\tpublic clip:Laya.Clip;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":516,\"height\":50},\"compId\":2,\"child\":[{\"type\":\"Button\",\"props\":{\"y\":1,\"x\":194,\"var\":\"btn\",\"skin\":\"comp/button.png\",\"labelStrokeColor\":\"#000000\",\"labelStroke\":2,\"labelSize\":20,\"labelColors\":\"#00FF00\",\"label\":\"按钮\"},\"compId\":3},{\"type\":\"Text\",\"props\":{\"y\":14,\"x\":0,\"width\":171,\"var\":\"txtName\",\"text\":\"测试文本\",\"fontSize\":22,\"color\":\"#d600ff\",\"runtime\":\"Laya.Text\"},\"compId\":4},{\"type\":\"Clip\",\"props\":{\"y\":-7,\"x\":490,\"var\":\"clip\",\"skin\":\"comp/clip_num.png\",\"clipX\":10},\"compId\":5}],\"loadList\":[\"comp/button.png\",\"comp/clip_num.png\"],\"loadList3D\":[]};\r\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.createView(TestRenderUI.uiView);\r\n        }\r\n    }\r\n    REG(\"ui.TestRenderUI\",TestRenderUI);\r\n}\r","import { ui } from \"./ui/layaMaxUI\";\r\n\r\nexport default class TestRender extends ui.TestRenderUI{\r\n\r\n    onEnable(): void {\r\n        let s = this;\r\n        s.txtName.text = \"测试:\"+s.name\r\n        s.clip.index = Math.floor(Math.random()*10);\r\n    }\r\n}","import TestRender from \"./TestRender\";\r\nimport { ui } from \"./ui/layaMaxUI\";\r\n\r\nexport default class Test extends ui.TestUI{\r\n\r\n    onAwake(): void {\r\n        let s = this;\r\n        s.list.itemRender = TestRender;\r\n        s.list.layerBatch = true;\r\n        s.list.vScrollBarSkin = \"\";\r\n        s.checkOpenBatch.selected = s.list.layerBatch;\r\n        s.checkOpenBatch.clickHandler = Laya.Handler.create(s, s.handleOpenOrCloseBatch, null, false)\r\n        console.log(\"初始化\")\r\n    }\r\n\r\n    private handleOpenOrCloseBatch(){\r\n        let s = this;\r\n        s.list.layerBatch =  s.checkOpenBatch.selected; \r\n    }\r\n\r\n    onEnable(): void {\r\n        let s = this;\r\n        s.list.array = [1,2,3,4,5,6,7,8,9,10,11,12,13]\r\n        console.log(\"onEnable\")\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport Test from \"./Test\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=640;\r\n    static height:number=1136;\r\n    static scaleMode:string=\"fixedheight\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"Test.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"Test.ts\",Test);\r\n    }\r\n}\r\nGameConfig.init();","/**引擎中添加属性声明 */\r\n// declare module Laya {\r\n\r\n//     export interface Node {\r\n//         /**\r\n//          * 是否对子对象的每一层进行合批操作\r\n//          */\r\n// \t\tlayerBatch:boolean;\r\n//     }\r\n// }\r\n    /**引擎拓展、修改 */\r\n    export class RenderSprite {\r\n        /**\r\n         * 按钮拓展\r\n         * 增加单张图片点击的效果\r\n         */\r\n        static extend(){\r\n            let nodePrototype = Laya.RenderSprite.prototype;\r\n\r\n            let nodeStacks:Laya.Sprite[] = [];\r\n            let nodeInfos:number[] = []//len layer\r\n            let nodePositions:number[] = [];//x,y\r\n            let nodeIndex:number = 0;\r\n            let infoIndex:number = 0;\r\n            let layer:number = 0\r\n            let loopCount:number = 0;\r\n            let removeChildrenTag = ~Laya.SpriteConst.CHILDS;\r\n            \r\n\r\n            Object.defineProperties(nodePrototype, {\r\n                \r\n                _children:{\r\n                    value:function(sprite: Laya.Sprite, context: Laya.Context, x: number, y: number): void {\r\n                        var style: Laya.SpriteStyle = sprite[\"_style\"];\r\n                        var childs: any[] = sprite[\"_children\"], n: number = childs.length, ele: any;\r\n                        x = x - sprite.pivotX;\r\n                        y = y - sprite.pivotY;\r\n                        var textLastRender: boolean = sprite[\"_getBit\"](Laya.Const.DRAWCALL_OPTIMIZE) && context.drawCallOptimize(true);\r\n                        if (style.viewport) {\r\n                            var rect: Laya.Rectangle = style.viewport;\r\n                            var left: number = rect.x;\r\n                            var top: number = rect.y;\r\n                            var right: number = rect.right;\r\n                            var bottom: number = rect.bottom;\r\n                            var _x: number, _y: number;\r\n                \r\n                            for (i = 0; i < n; ++i) {\r\n                                if ((ele = (<Laya.Sprite>childs[i]))[\"_visible\"] && ((_x = ele._x) < right && (_x + ele.width) > left && (_y = ele._y) < bottom && (_y + ele.height) > top)) {\r\n                                    ele.render(context, x, y);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if(sprite[\"_layerBatch\"] && n>0){\r\n                                this._layerWalk(sprite, context, x, y)\r\n                            }else{\r\n                                for (var i: number = 0; i < n; ++i)\r\n                                    (ele = ((<Laya.Sprite>childs[i])))[\"_visible\"] && ele.render(context, x, y);\r\n                            }\r\n                        }\r\n                        textLastRender && context.drawCallOptimize(false);\r\n                    },\r\n                    enumerable:true,\r\n                },\r\n\r\n                _layerWalk:{\r\n                    value:function(sprite:Laya.Sprite, context:Laya.Context, x:number, y:number){\r\n                        let temp = sprite;\r\n                        nodeIndex = 0;\r\n                        layer = 0;\r\n                        loopCount = 0;\r\n                        while(temp && temp[\"_visible\"]){\r\n                            this._renderNotChildren(temp, context, x, y)\r\n                            if(temp[\"_children\"].length>1)break;\r\n                            temp = temp[\"_children\"][0]\r\n                            x = x + temp[\"_x\"] - sprite.pivotX;\r\n                            y = y + temp[\"_y\"] - sprite.pivotY;\r\n                        }\r\n                        let childs = temp[\"_children\"]\r\n                        for(let i=0; i<childs.length; i++){\r\n                            if(childs[i][\"_visible\"]){\r\n                                this._addLayaBatchNode(childs[i], nodeIndex, x, y)\r\n                                nodeIndex ++;\r\n                            }\r\n                        }\r\n                        nodeInfos.push(nodeIndex)\r\n                        nodeInfos.push(0)\r\n                        infoIndex = 2;\r\n                        let len = 0;\r\n                        while(loopCount<10000){\r\n                            loopCount ++;\r\n                            let find = false;\r\n                            len = nodeInfos[infoIndex - 2]\r\n                            let len2 = 0;\r\n                            for(let i=len; i>0; i--){\r\n                                let idx = nodeIndex-i;\r\n                                let item = nodeStacks[idx];\r\n                                let xpos = nodePositions[idx*2];\r\n                                let ypos = nodePositions[idx*2+1];\r\n                                if(layer == 0){\r\n                                    this._renderNotChildren(item, context, xpos, ypos)\r\n                                }\r\n                                if(item[\"_children\"].length>layer && item[\"_children\"][layer][\"_visible\"]){\r\n                                    this._addLayaBatchNode(item[\"_children\"][layer], nodeIndex+len2, item[\"_x\"]+xpos, item[\"_y\"]+ypos)\r\n                                    len2 ++;\r\n                                    find = true;\r\n                                }\r\n                            }\r\n                            if(find){\r\n                                nodeIndex = nodeIndex + len2;\r\n                                nodeInfos[infoIndex] = len2;\r\n                                nodeInfos[infoIndex+1] = 0\r\n                                infoIndex += 2;\r\n                                layer = 0\r\n                            }else{\r\n                                nodeIndex = nodeIndex - len;\r\n                                infoIndex -= 2;\r\n                                if(infoIndex == 0)break;\r\n                                if(infoIndex>1){\r\n                                    nodeInfos[infoIndex-1] += 1\r\n                                    layer = nodeInfos[infoIndex-1];\r\n                                }\r\n                            }\r\n                        }\r\n                        nodePositions.length = 0\r\n                        nodeStacks.length = 0;\r\n                        nodeInfos.length = 0;\r\n                        infoIndex = 0;\r\n                        nodeIndex = 0;\r\n                    },\r\n                    enumerable:true,\r\n                },\r\n\r\n                _addLayaBatchNode:{\r\n                    value:function(node:Laya.Sprite, index:number, x:number, y:number){\r\n                        nodeStacks[index] = node;\r\n                        x = x - node.pivotX;\r\n                        y = y - node.pivotY;\r\n                        let renderType = node[\"_renderType\"]\r\n                        if(renderType & Laya.SpriteConst.CLIP){\r\n                            var r: Laya.Rectangle = node[\"_style\"].scrollRect;\r\n                            if(r){\r\n                                x = x - r.x;\r\n                                y = y - r.y;\r\n                            }\r\n                        }\r\n                        nodePositions[index*2] = x;\r\n                        nodePositions[index*2+1] = y;\r\n                    },\r\n                    enumerable:true,\r\n                },\r\n\r\n                _renderNotChildren:{\r\n                    value:function(child:Laya.Sprite, context:Laya.Context, x:number, y:number){\r\n                        let oldRenderType = child[\"_renderType\"];\r\n                        let renderType = oldRenderType & removeChildrenTag;\r\n                        child[\"_renderType\"] = renderType;\r\n                        Laya.RenderSprite[\"renders\"][renderType][\"_fun\"](child, context, x+child[\"_x\"], y+child[\"_y\"] );\r\n                        child[\"_renderType\"] = oldRenderType;\r\n                        child[\"_repaint\"] = 0;\r\n                    },\r\n                    enumerable:true,\r\n                }\r\n\r\n\r\n            })\r\n\r\n            //Sprite 扩展\r\n            let spritePrototype = Laya.Sprite.prototype;\r\n            Object.defineProperties(spritePrototype, {\r\n                layerBatch:{\r\n                    set(value:boolean){\r\n                       this[\"_layerBatch\"] = value; \r\n                    },\r\n                    get():boolean{\r\n                        return this[\"_layerBatch\"];\r\n                    },\r\n                    enumerable:true,\r\n                }\r\n            })\r\n\r\n            //List 中 拓展\r\n            let listPrototype = Laya.List.prototype;\r\n            Object.defineProperties(listPrototype, {\r\n                layerBatch:{\r\n                    set(value:boolean){\r\n                       this.content.layerBatch = value; \r\n                    },\r\n                    get():boolean{\r\n                        return this.content.layerBatch;\r\n                    },\r\n                    enumerable:true,\r\n                }\r\n            })\r\n\r\n        };\r\n\r\n\r\n\r\n        \r\n\r\n\r\n    }","import GameConfig from \"./GameConfig\";\r\nimport { RenderSprite } from \"./RenderSpriteExtends\";\r\nimport Test from \"./Test\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tLaya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\tRenderSprite.extend();\r\n\t\tLaya.stage.addChild(new Test())\r\n\t\t// GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}